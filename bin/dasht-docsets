#!/bin/sh -e
#
# Usage: dasht-docsets [NAME...]
#
# Lists the names of Dash docsets installed in $DASHT_DOCSETS_DIR.
#
# If any NAMEs are specified, the list is filtered to include
# only those docsets whose names loosely match the given NAMEs.
#
# Written in 2016 by Suraj N. Kurapati <https://github.com/sunaku/dasht>
# Distributed under the terms of the ISC license (see the LICENSE file).

: ${DASHT_DOCSETS_DIR:=${XDG_DATA_HOME:-$HOME/.local/share}/dasht/docsets}

ls "$DASHT_DOCSETS_DIR" | sed -n 's/\.\(docset\|tgz\)$//p' | sort -u |
{ IFS='|'; grep -E -i "$*" ;} # join NAMEs with '|' to filter the list
